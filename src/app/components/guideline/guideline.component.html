<div id="guideline">

  <h3>Pre-billing Process Manual</h3>

    <nav class="btn btn-primary btn-sm" data-toggle="modal" data-target="#toCreate" (click)="createGuide()" *ngIf="role == 'Admin'">Create</nav>

    <!-- Modal to create-->
    <div class="modal fade" id="toCreate" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" (click)="resetAll()">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">New</h4>
          </div>
          <div class="modal-body" >
            <!-- Summernote text-->
            <div class="form-group">
              <label for="index">Index</label>
              <input type="text" class="form-control index" id="index">
            </div>

            <div class="form-group">
              <label for="title">Title</label>
              <input type="text" class="form-control title" id="title">
            </div>

            <div class="form-group">
              <label for="date">Date</label>
              <input type="date" class="form-control title" id="date">
            </div>

            <div class="form-group">
              <label for="title">Text</label>
              <div id="createGuide"></div>
            </div>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" (click)="resetAll()">Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="createItem()">Create</button>
          </div>
        </div>
      </div>
    </div>

     <!-- Modal to edit-->
    <div class="modal fade" id="toEdit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Edit</h4>
          </div>
          <div class="modal-body" >
            <!-- Summernote text-->
            <div class="form-group">
              <label for="index">Index</label>
              <input type="text" class="form-control index" id="index" value="{{guideline.index}}">
            </div>

            <div class="form-group">
              <label for="title">Title</label>
              <input type="text" class="form-control title" id="title" value="{{guideline.title}}">
            </div>

            <div class="form-group">
              <label for="date">Date</label>
              <input type="date" class="form-control title" id="date" value="{{date}}">
            </div>

            <div class="form-group">
              <label for="title">Text</label>
              <div id="editGuide"></div>
            </div>

            <div class="form-group">
              <label for="title">Links</label>
              <div id="links"></div>
            </div>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" >Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="updateItem(guideline._id)">Save changes</button>
          </div>
        </div>
      </div>
    </div>

  <div class="search">
    <input type="text" class="form-control" placeholder="Searching..." [(ngModel)]="find">
  </div>

  <div class="content">

    <div *ngFor="let section of data | filter:find ">
      
      <div class="one">
        <div class="info">
          <span class="title">{{section.index}} - {{section.title}}</span>
          <span class="btn btn-success btn-xs glyphicon glyphicon-pencil" data-toggle="modal" data-target="#toEdit"  (click)="editItemInModal(section._id)" *ngIf="role == 'Admin'"></span>
          <span class="btn btn-danger btn-xs glyphicon glyphicon-remove" (click)="deleteGuide(section._id)" *ngIf="role == 'Admin'"></span>
          <span class="date"> Last update {{section.date | date }}</span>
        </div>    

        <p [innerHTML]="section.text | sanitizer"></p>

      </div> 

    </div>
    
  </div>

</div>

